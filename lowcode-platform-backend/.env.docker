# Docker Environment Configuration for Low-code Platform Backend

# Database Configuration
DATABASE_URL="postgresql://soybean:soybean@123.@postgres:5432/soybean-admin-nest-backend?schema=lowcode"
DIRECT_DATABASE_URL="postgresql://soybean:soybean@123.@postgres:5432/soybean-admin-nest-backend?schema=lowcode"

# Use Real Database instead of Mock
USE_REAL_DATABASE=true

# Service Configuration
NODE_ENV=production
PORT=3000
SERVICE_NAME=lowcode-platform

# JWT Configuration
JWT_SECRET=JWT_SECRET-soybean-admin-nest!@#123.
JWT_EXPIRES_IN=7d

# Redis Configuration
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=123456
REDIS_DB=2

# Service URLs
BACKEND_URL=http://backend:9528
AMIS_BACKEND_URL=http://amis-backend:9522

# Database Initialization
RUN_MIGRATIONS=true
AUTO_INIT_DATA=true
FIRST_RUN_DETECTION=true

# Data Sync Configuration
DATA_SYNC_ENABLED=true
DATA_SYNC_INTERVAL=30000
DATA_SYNC_BATCH_SIZE=100

# Performance and Monitoring
METRICS_ENABLED=true
PERFORMANCE_MONITORING=true
LOG_LEVEL=info

# CORS Configuration
CORS_ENABLED=true
CORS_ORIGIN=http://localhost:9527,http://127.0.0.1:9527,http://localhost:9528,http://127.0.0.1:9528,http://localhost:9522,http://127.0.0.1:9522
CORS_METHODS=GET,HEAD,PUT,PATCH,POST,DELETE,OPTIONS
CORS_CREDENTIALS=true

# Code Generation
AMIS_BACKEND_PATH=/app/amis-backend
OUTPUT_PATH=/app/generated
