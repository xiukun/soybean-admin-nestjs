{
  "project": {
    "id": "test-project-001",
    "name": "测试项目",
    "code": "test-project",
    "description": "用于测试代码生成器功能的测试项目",
    "config": {
      "database": {
        "type": "postgresql",
        "host": "localhost",
        "port": 5432
      },
      "api": {
        "baseUrl": "/api/v1",
        "prefix": "test"
      }
    }
  },
  "entity": {
    "id": "test-entity-user",
    "projectId": "test-project-001",
    "name": "用户",
    "code": "User",
    "tableName": "test_users",
    "description": "测试用户实体，包含基本的用户信息和验证规则",
    "category": "用户管理",
    "status": "PUBLISHED",
    "config": {
      "displayName": "用户",
      "icon": "user",
      "color": "#1890ff",
      "softDelete": true,
      "timestamps": true,
      "audit": true
    },
    "fields": [
      {
        "id": "field-001",
        "name": "ID",
        "code": "id",
        "type": "UUID",
        "nullable": false,
        "primaryKey": true,
        "uniqueConstraint": true,
        "defaultValue": "gen_random_uuid()",
        "comment": "用户唯一标识",
        "sortOrder": 1
      },
      {
        "id": "field-002",
        "name": "用户名",
        "code": "username",
        "type": "STRING",
        "length": 50,
        "nullable": false,
        "uniqueConstraint": true,
        "indexed": true,
        "validationRules": {
          "required": true,
          "minLength": 3,
          "maxLength": 50,
          "pattern": "^[a-zA-Z0-9_]+$"
        },
        "comment": "用户登录名",
        "sortOrder": 2
      },
      {
        "id": "field-003",
        "name": "邮箱",
        "code": "email",
        "type": "STRING",
        "length": 100,
        "nullable": false,
        "uniqueConstraint": true,
        "indexed": true,
        "validationRules": {
          "required": true,
          "email": true
        },
        "comment": "用户邮箱地址",
        "sortOrder": 3
      },
      {
        "id": "field-004",
        "name": "手机号",
        "code": "phone",
        "type": "STRING",
        "length": 20,
        "nullable": true,
        "validationRules": {
          "phone": true,
          "pattern": "^1[3-9]\\d{9}$"
        },
        "comment": "用户手机号码",
        "sortOrder": 4
      },
      {
        "id": "field-005",
        "name": "真实姓名",
        "code": "realName",
        "type": "STRING",
        "length": 100,
        "nullable": true,
        "validationRules": {
          "maxLength": 100
        },
        "comment": "用户真实姓名",
        "sortOrder": 5
      },
      {
        "id": "field-006",
        "name": "年龄",
        "code": "age",
        "type": "INTEGER",
        "nullable": true,
        "validationRules": {
          "min": 0,
          "max": 150
        },
        "comment": "用户年龄",
        "sortOrder": 6
      },
      {
        "id": "field-007",
        "name": "性别",
        "code": "gender",
        "type": "STRING",
        "length": 10,
        "nullable": true,
        "defaultValue": "UNKNOWN",
        "enumOptions": [
          { "value": "MALE", "label": "男" },
          { "value": "FEMALE", "label": "女" },
          { "value": "UNKNOWN", "label": "未知" }
        ],
        "comment": "用户性别",
        "sortOrder": 7
      },
      {
        "id": "field-008",
        "name": "生日",
        "code": "birthday",
        "type": "DATE",
        "nullable": true,
        "comment": "用户生日",
        "sortOrder": 8
      },
      {
        "id": "field-009",
        "name": "头像URL",
        "code": "avatar",
        "type": "STRING",
        "length": 500,
        "nullable": true,
        "validationRules": {
          "url": true
        },
        "comment": "用户头像链接",
        "sortOrder": 9
      },
      {
        "id": "field-010",
        "name": "个人简介",
        "code": "bio",
        "type": "TEXT",
        "nullable": true,
        "validationRules": {
          "maxLength": 1000
        },
        "comment": "用户个人简介",
        "sortOrder": 10
      },
      {
        "id": "field-011",
        "name": "是否激活",
        "code": "isActive",
        "type": "BOOLEAN",
        "nullable": false,
        "defaultValue": "true",
        "comment": "用户账户是否激活",
        "sortOrder": 11
      },
      {
        "id": "field-012",
        "name": "最后登录时间",
        "code": "lastLoginAt",
        "type": "DATETIME",
        "nullable": true,
        "comment": "用户最后登录时间",
        "sortOrder": 12
      },
      {
        "id": "field-013",
        "name": "用户配置",
        "code": "settings",
        "type": "JSON",
        "nullable": true,
        "defaultValue": "{}",
        "comment": "用户个性化配置",
        "sortOrder": 13
      }
    ],
    "relationships": [
      {
        "id": "rel-001",
        "type": "ONE_TO_MANY",
        "sourceEntity": {
          "code": "User",
          "name": "用户"
        },
        "targetEntity": {
          "code": "UserProfile",
          "name": "用户档案"
        },
        "sourceField": {
          "code": "id"
        },
        "targetField": {
          "code": "userId"
        },
        "description": "用户与用户档案的一对多关系"
      }
    ],
    "indexes": [
      {
        "name": "idx_users_username",
        "fields": ["username"],
        "unique": true
      },
      {
        "name": "idx_users_email",
        "fields": ["email"],
        "unique": true
      },
      {
        "name": "idx_users_phone",
        "fields": ["phone"]
      },
      {
        "name": "idx_users_created_at",
        "fields": ["createdAt"]
      }
    ],
    "uniqueConstraints": [
      {
        "name": "uk_users_username",
        "fields": ["username"]
      },
      {
        "name": "uk_users_email",
        "fields": ["email"]
      }
    ]
  }
}
