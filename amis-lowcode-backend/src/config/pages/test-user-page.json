{
  "type": "page",
  "title": "测试用户管理",
  "body": [
    {
      "type": "crud",
      "api": {
        "method": "get",
        "url": "/api/v1/test-user",
        "data": {
          "current": "${page}",
          "size": "${perPage}",
          "sort": "${orderBy}:${orderDir}",
          "search": "${keywords}"
        }
      },
      "syncLocation": false,
      "title": "",
      "perPageAvailable": [10, 20, 50, 100],
      "perPage": 10,
      "orderField": "createdAt",
      "defaultOrderDir": "desc",
      "autoGenerateFilter": true,
      "columns": [
        {
          "name": "username",
          "label": "用户名",
          "type": "text",
          "sortable": false
        },
        {
          "name": "email",
          "label": "邮箱",
          "type": "text",
          "sortable": false
        },
        {
          "name": "phone",
          "label": "手机号",
          "type": "text",
          "sortable": false
        },
        {
          "name": "realName",
          "label": "真实姓名",
          "type": "text",
          "sortable": false
        },
        {
          "name": "age",
          "label": "年龄",
          "type": "number",
          "sortable": false
        },
        {
          "name": "gender",
          "label": "性别",
          "type": "text",
          "sortable": false
        },
        {
          "name": "birthday",
          "label": "生日",
          "type": "date",
          "sortable": false,
          "format": "YYYY-MM-DD HH:mm:ss"
        },
        {
          "name": "avatar",
          "label": "头像URL",
          "type": "text",
          "sortable": false
        },
        {
          "name": "bio",
          "label": "个人简介",
          "type": "text",
          "sortable": false
        },
        {
          "name": "isActive",
          "label": "是否激活",
          "type": "status",
          "sortable": false,
          "type": "status",
          "map": {
            "true": "<span class='label label-success'>是</span>",
            "false": "<span class='label label-default'>否</span>"
          }
        },
        {
          "name": "lastLoginAt",
          "label": "最后登录时间",
          "type": "datetime",
          "sortable": false
        },
        {
          "name": "settings",
          "label": "用户配置",
          "type": "json",
          "sortable": false
        },
        {
          "name": "createdAt",
          "label": "创建时间",
          "type": "datetime",
          "format": "YYYY-MM-DD HH:mm:ss",
          "sortable": true
        },
        {
          "type": "operation",
          "label": "操作",
          "width": 200,
          "buttons": [
            {
              "type": "button",
              "label": "查看",
              "actionType": "dialog",
              "level": "link",
              "dialog": {
                "title": "查看测试用户",
                "body": {
                  "type": "form",
                  "api": "/api/v1/test-user/${id}",
                  "controls": [
                    {
                      "type": "text",
                      "name": "username",
                      "label": "用户名",
                      "disabled": true
                    },
                    {
                      "type": "text",
                      "name": "email",
                      "label": "邮箱",
                      "disabled": true
                    },
                    {
                      "type": "text",
                      "name": "phone",
                      "label": "手机号",
                      "disabled": true
                    },
                    {
                      "type": "text",
                      "name": "realName",
                      "label": "真实姓名",
                      "disabled": true
                    },
                    {
                      "type": "number",
                      "name": "age",
                      "label": "年龄",
                      "disabled": true
                    },
                    {
                      "type": "text",
                      "name": "gender",
                      "label": "性别",
                      "disabled": true
                    },
                    {
                      "type": "date",
                      "name": "birthday",
                      "label": "生日",
                      "disabled": true,
                      "format": "YYYY-MM-DD HH:mm:ss"
                    },
                    {
                      "type": "text",
                      "name": "avatar",
                      "label": "头像URL",
                      "disabled": true
                    },
                    {
                      "type": "textarea",
                      "name": "bio",
                      "label": "个人简介",
                      "disabled": true
                    },
                    {
                      "type": "switch",
                      "name": "isActive",
                      "label": "是否激活",
                      "disabled": true
                    },
                    {
                      "type": "datetime",
                      "name": "lastLoginAt",
                      "label": "最后登录时间",
                      "disabled": true
                    },
                    {
                      "type": "json",
                      "name": "settings",
                      "label": "用户配置",
                      "disabled": true
                    },
                    {
                      "type": "datetime",
                      "name": "createdAt",
                      "label": "创建时间",
                      "disabled": true,
                      "format": "YYYY-MM-DD HH:mm:ss"
                    },
                    {
                      "type": "datetime",
                      "name": "updatedAt",
                      "label": "更新时间",
                      "disabled": true,
                      "format": "YYYY-MM-DD HH:mm:ss"
                    }
                  ]
                }
              }
            },
            {
              "type": "button",
              "label": "编辑",
              "actionType": "dialog",
              "level": "link",
              "dialog": {
                "title": "编辑测试用户",
                "body": {
                  "type": "form",
                  "api": "put:/api/v1/test-user/${id}",
                  "controls": [
                    {
                      "type": "text",
                      "name": "username",
                      "label": "用户名",
                      "required": true,
                      "validations": {&quot;required&quot;:true,&quot;minLength&quot;:3,&quot;maxLength&quot;:50,&quot;pattern&quot;:&quot;^[a-zA-Z0-9_]+$&quot;}
                    },
                    {
                      "type": "text",
                      "name": "email",
                      "label": "邮箱",
                      "required": true,
                      "validations": {&quot;required&quot;:true,&quot;email&quot;:true}
                    },
                    {
                      "type": "text",
                      "name": "phone",
                      "label": "手机号",
                      "required": false,
                      "validations": {&quot;phone&quot;:true,&quot;pattern&quot;:&quot;^1[3-9]\\d{9}$&quot;}
                    },
                    {
                      "type": "text",
                      "name": "realName",
                      "label": "真实姓名",
                      "required": false,
                      "validations": {&quot;maxLength&quot;:100}
                    },
                    {
                      "type": "number",
                      "name": "age",
                      "label": "年龄",
                      "required": false,
                      "validations": {&quot;min&quot;:0,&quot;max&quot;:150}
                    },
                    {
                      "type": "text",
                      "name": "gender",
                      "label": "性别",
                      "required": false
                    },
                    {
                      "type": "date",
                      "name": "birthday",
                      "label": "生日",
                      "required": false,
                      "format": "YYYY-MM-DD HH:mm:ss"
                    },
                    {
                      "type": "text",
                      "name": "avatar",
                      "label": "头像URL",
                      "required": false,
                      "validations": {&quot;url&quot;:true}
                    },
                    {
                      "type": "textarea",
                      "name": "bio",
                      "label": "个人简介",
                      "required": false,
                      "validations": {&quot;maxLength&quot;:1000}
                    },
                    {
                      "type": "switch",
                      "name": "isActive",
                      "label": "是否激活",
                      "required": true
                    },
                    {
                      "type": "datetime",
                      "name": "lastLoginAt",
                      "label": "最后登录时间",
                      "required": false
                    },
                    {
                      "type": "json",
                      "name": "settings",
                      "label": "用户配置",
                      "required": false
                    },
                  ]
                }
              }
            },
            {
              "type": "button",
              "label": "删除",
              "actionType": "ajax",
              "level": "link",
              "className": "text-danger",
              "confirmText": "确定要删除这条测试用户记录吗？",
              "api": "delete:/api/v1/test-user/${id}"
            }
          ]
        }
      ],
      "headerToolbar": [
        {
          "type": "button",
          "label": "新增测试用户",
          "actionType": "dialog",
          "level": "primary",
          "dialog": {
            "title": "新增测试用户",
            "body": {
              "type": "form",
              "api": "post:/api/v1/test-user",
              "controls": [
                {
                  "type": "text",
                  "name": "username",
                  "label": "用户名",
                  "required": true,
                  "validations": {&quot;required&quot;:true,&quot;minLength&quot;:3,&quot;maxLength&quot;:50,&quot;pattern&quot;:&quot;^[a-zA-Z0-9_]+$&quot;}
                },
                {
                  "type": "text",
                  "name": "email",
                  "label": "邮箱",
                  "required": true,
                  "validations": {&quot;required&quot;:true,&quot;email&quot;:true}
                },
                {
                  "type": "text",
                  "name": "phone",
                  "label": "手机号",
                  "required": false,
                  "validations": {&quot;phone&quot;:true,&quot;pattern&quot;:&quot;^1[3-9]\\d{9}$&quot;}
                },
                {
                  "type": "text",
                  "name": "realName",
                  "label": "真实姓名",
                  "required": false,
                  "validations": {&quot;maxLength&quot;:100}
                },
                {
                  "type": "number",
                  "name": "age",
                  "label": "年龄",
                  "required": false,
                  "validations": {&quot;min&quot;:0,&quot;max&quot;:150}
                },
                {
                  "type": "text",
                  "name": "gender",
                  "label": "性别",
                  "required": false,
                  "value": &quot;UNKNOWN&quot;
                },
                {
                  "type": "date",
                  "name": "birthday",
                  "label": "生日",
                  "required": false,
                  "format": "YYYY-MM-DD HH:mm:ss"
                },
                {
                  "type": "text",
                  "name": "avatar",
                  "label": "头像URL",
                  "required": false,
                  "validations": {&quot;url&quot;:true}
                },
                {
                  "type": "textarea",
                  "name": "bio",
                  "label": "个人简介",
                  "required": false,
                  "validations": {&quot;maxLength&quot;:1000}
                },
                {
                  "type": "switch",
                  "name": "isActive",
                  "label": "是否激活",
                  "required": true,
                  "value": &quot;true&quot;
                },
                {
                  "type": "datetime",
                  "name": "lastLoginAt",
                  "label": "最后登录时间",
                  "required": false
                },
                {
                  "type": "json",
                  "name": "settings",
                  "label": "用户配置",
                  "required": false,
                  "value": &quot;{}&quot;
                },
              ]
            }
          }
        },
        "bulkActions",
        "reload"
      ],
      "bulkActions": [
        {
          "label": "批量删除",
          "actionType": "ajax",
          "api": "delete:/api/v1/test-user/batch",
          "confirmText": "确定要删除选中的测试用户记录吗？",
          "type": "button"
        }
      ]
    }
  ]
}
