import{b as y,d as u,L as N,dF as _,R as v,c4 as S,c as A,f as g,_ as C,a as R,g7 as b,a1 as m,a2 as d}from"./amis-CX4p0iDy.js";import"./react-vendor-DeqkGhWy.js";var k=function(c){y(a,c);function a(e){var r=c.call(this,e)||this,t=e.links,s=0;if(typeof e.active<"u")s=e.active;else{var i=r.getActiveSection(t,e.active,null);s=i&&i.href?i.href:t[0]&&t[0].href||0}return r.state={active:s},r}return a.prototype.getActiveSection=function(e,r,t){var s=this;return t||(e.forEach(function(i){i.href===r?t=i:i.children&&s.getActiveSection(i.children,r,t)}),t)},a.prototype.handleSelect=function(e){this.setState({active:e})},a.prototype.locateTo=function(e){var r=this.props.links;Array.isArray(r)&&r[e]&&this.setState({active:r[e].href||e})},a.prototype.renderSections=function(e,r){var t=this,s=this.props;s.classnames,s.classPrefix;var i=s.sectionRender,f=s.render,h=s.data;e=Array.isArray(e)?e:[e];var l=[];return e.forEach(function(n,p){if(_(n,h)){var o=(r?r+"-":"")+p;l.push(v.createElement(S,A({},n,{title:g(n.title,h),key:o,name:n.href||o}),t.renderSection?t.renderSection(n,t.props,o):i?i(n,t.props,o):f("section/".concat(o),n.body||""))),n.children&&l.push.apply(l,C([],R(t.renderSections(n.children,o)),!1))}}),l.filter(function(n){return!!n})},a.prototype.render=function(){var e=this.props,r=e.classnames,t=e.classPrefix,s=e.className,i=e.style,f=e.linkClassName,h=e.sectionClassName,l=e.direction;e.sectionRender,e.render,e.data;var n=this.props.links;if(!n)return null;var p=this.renderSections(n);return v.createElement(b,{classPrefix:t,classnames:r,className:s,style:i,linkClassName:f,sectionClassName:h,onSelect:this.handleSelect,active:this.state.active,direction:l},p)},a.defaultProps={className:"",linkClassName:"",sectionClassName:""},u([m,d("design:type",Function),d("design:paramtypes",[Object]),d("design:returntype",void 0)],a.prototype,"handleSelect",null),u([m,d("design:type",Function),d("design:paramtypes",[Number]),d("design:returntype",void 0)],a.prototype,"locateTo",null),a}(v.Component),F=function(c){y(a,c);function a(){return c!==null&&c.apply(this,arguments)||this}return a=u([N({type:"anchor-nav"})],a),a}(k);export{F as AnchorNavRenderer,k as default};
