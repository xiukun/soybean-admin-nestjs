import{b as re,$ as J,af as V,dP as ae,dz as ie,d as T,L as se,a2 as g,dO as le,dQ as $,dM as K,dZ as X,b7 as de,cb as ue,b_ as ce,h as pe,ay as fe,aY as ee,c as m,dT as he,dU as ge,ae as A,cc as W,cn as ye,a7 as ve,dR as z,at as me,aZ as be,av as H,d_ as Pe,R as F,as as te,aJ as Fe,f as Se,au as Ce,_ as Te,a as Oe,a4 as Ae,d$ as Qe,a1 as O,bW as Ie}from"./amis-CpcGROCB.js";import{o as Re}from"./omitBy-C3degO3q.js";import{aI as De}from"./amis-editor-DPV2yscr.js";import"./react-vendor-DeqkGhWy.js";import"./index-oX53tDI9.js";import"./index-YkbXf_CU.js";var _e=["selectedChange","columnSort","columnFilter","columnSearch","columnToggled","orderChange","rowClick","rowDbClick","rowMouseEnter","rowMouseLeave","selected"],ke=function(Q){re(l,Q);function l(e){var t=Q.call(this,e)||this;t.stopingAutoRefresh=!1;var r=e.location,a=e.store,i=e.syncLocation,n=e.pageField,s=e.perPageField;e.parsePrimitiveQuery;var o=t.getParseQueryOptions(e);t.mounted=!0,i&&r&&(r.query||r.search)?a.updateQuery($(r,o),void 0,n,s):i&&!r&&window.location.search&&a.updateQuery($(window.location,o),void 0,n,s),t.props.api&&t.props.store.updateData({items:[]});var d=e.mode,p=e.columns;return d==="table2"&&p&&a.updateColumns(p),t}return l.prototype.componentDidMount=function(){var e=this.props,t=e.store,r=e.pickerMode,a=e.loadType,i=e.loadDataOnce,n=e.maxLoadNum,s=a&&!i;if(s){var o=a==="more"?this.props.perPage||10:this.getPaginationPerPage();t.changePage(t.page,o)}else a||t.changePage(1,n||500);if(this.initQuery({}),r){var d=K(this.props);d&&t.setSelectedItems(d)}},l.prototype.componentDidUpdate=function(e){var t,r=this.props,a=e.store;r.parsePrimitiveQuery,e.columns!==r.columns&&a.updateColumns(r.columns);var i;this.props.pickerMode&&X(i=K(this.props),K(e))&&a.setSelectedItems(i);var n=!1;if(e.syncLocation&&e.location&&e.location.search!==r.location.search&&(a.updateQuery($(r.location,this.getParseQueryOptions(r)),void 0,r.pageField,r.perPageField),n=!!(r.api&&de(a.query,this.lastQuery,!1))),!n){if(e.api&&r.api&&ue(e.api,r.api,a.fetchCtxOf(e.data,{pageField:e.pageField,perPageField:e.perPageField}),a.fetchCtxOf(r.data,{pageField:r.pageField,perPageField:r.perPageField})))n=!0;else if(!r.api&&ce(r.source)){var s=pe(r.source,r.data,"| raw");(!this.lastData||this.lastData!==s)&&(a.initFromScope(r.data,r.source,{columns:(t=a.columns)!==null&&t!==void 0?t:r.columns}),this.lastData=s)}}n&&this.getData()},l.prototype.componentWillUnmount=function(){this.mounted=!1,clearTimeout(this.timer)},l.prototype.getPaginationPerPage=function(){var e=10,t=this.props,r=t.headerToolbar,a=t.footerToolbar;return fe({headerToolbar:r,footerToolbar:a},function(i,n,s){n==="type"&&i==="pagination"&&!isNaN(s==null?void 0:s.perPage)&&(e=+s.perPage)}),e},l.prototype.getParseQueryOptions=function(e){var t,r=e.parsePrimitiveQuery,a={parsePrimitive:!!(ee(r)?r!=null&&r.enable:r),primitiveTypes:(t=r==null?void 0:r.types)!==null&&t!==void 0?t:["boolean"]};return a},l.prototype.controlRef=function(e){for(;e&&e.getWrappedInstance;)e=e.getWrappedInstance();this.control=e},l.prototype.initQuery=function(e){var t=this.props,r=t.store,a=t.orderBy,i=t.orderDir,n=t.loadType,s={};a&&(s.orderBy=a,s.orderDir=i||"asc"),this.handleSearch({query:m(m(m({},s),e),r.query),replaceQuery:this.props.initFetch!==!1,loadMore:n==="more",resetPage:!1}),r.setPristineQuery()},l.prototype.handleLoadMore=function(){var e=this.props,t=e.store,r=e.perPage,a=r===void 0?10:r;t.changePage(t.page+1,a),this.getData(void 0,void 0,void 0,!0)},l.prototype.handleSearch=function(e){var t,r,a=this.props,i=a.store,n=a.syncLocation,s=a.env,o=a.pageField,d=a.perPageField,p=a.parsePrimitiveQuery,c=this.getParseQueryOptions(this.props),h=e||{},u=h.query,f=h.resetQuery,y=h.replaceQuery,b=h.loadMore,v=h.resetPage;u=m(m({},u),De((r=(t=u==null?void 0:u.__super)===null||t===void 0?void 0:t.diff)!==null&&r!==void 0?r:{},function(C){return C===void 0})),u=n?he(ae(u,void 0,!0)):u,p&&(u=ge(u,c)),i.updateQuery(f?m(m({},u),this.props.store.pristineQuery):u,n&&s&&s.updateLocation?function(C){return s.updateLocation(C,!0)}:void 0,o,d,y),v&&i.changePage(1),this.lastQuery=i.query,this.getData(void 0,void 0,void 0,b??!1)},l.prototype.handleStopAutoRefresh=function(){this.timer&&clearTimeout(this.timer),this.stopingAutoRefresh=!0},l.prototype.handleStartAutoRefresh=function(){this.stopingAutoRefresh=!1,this.reload()},l.prototype.reloadTarget=function(e,t){},l.prototype.closeTarget=function(e){},l.prototype.updateQuery=function(e){this.props.store},l.prototype.getData=function(e,t,r,a){var i,n,s;return r===void 0&&(r=!1),J(this,void 0,void 0,function(){var o,d,p,c,h,u,f,y,b,v,C,I,P,S,R,N,B,M,j,x,L;return V(this,function(E){switch(E.label){case 0:return o=this.props,d=o.store,p=o.api,c=o.messages,h=o.pageField,u=o.perPageField,f=o.interval,y=o.stopAutoRefreshWhen,b=o.silentPolling,o.syncLocation,v=o.syncResponse2Query,C=o.keepItemSelectionOnPageChange,I=o.stopAutoRefreshWhenModalIsOpen,P=o.pickerMode,o.env,S=o.loadType,R=o.loadDataOnce,N=o.source,B=o.columns,M=o.perPage,!a&&C&&t&&!P&&(d.setSelectedItems([]),d.setUnSelectedItems([])),clearTimeout(this.timer),this.lastQuery=d.query,j=a??S==="more",x=A(d.data,d.query),j&&M&&d.changePerPage(M),W(p,x)?[4,d.fetchInitData(p,x,{successMessage:c&&c.fetchSuccess,errorMessage:c&&c.fetchFailed,autoAppend:!0,forceReload:r,loadDataOnce:R,source:N,silent:e,pageField:h,perPageField:u,loadDataMode:j,syncResponse2Query:v,columns:(i=d.columns)!==null&&i!==void 0?i:B,isTable2:!0})]:[3,2];case 1:return L=E.sent(),L!=null&&L.ok&&f&&!this.stopingAutoRefresh&&this.mounted&&(!y||!(y&&ye(y,A(d.data,d.query))))&&(!I||!d.dialogOpen&&!(!((n=d==null?void 0:d.parentStore)===null||n===void 0)&&n.dialogOpen))&&(this.timer=setTimeout(this.getData.bind(this,b,void 0,!0),Math.max(f,1e3))),[3,3];case 2:N&&d.initFromScope(x,N,{columns:(s=d.columns)!==null&&s!==void 0?s:B}),E.label=3;case 3:return[2,d.data]}})})},l.prototype.handleChangePage=function(e,t){var r,a=this.props,i=a.store,n=a.syncLocation,s=a.env,o=a.pageField,d=a.perPageField,p=a.autoJumpToTopOnPagerChange,c=(r={},r[o||"page"]=e,r);if(t&&(c[d||"perPage"]=t),i.updateQuery(c,n&&(s!=null&&s.updateLocation)?s.updateLocation:void 0,o,d),i.changePage(e,t),this.getData(),p&&this.control){ve.findDOMNode(this.control).scrollIntoView();var h=window.scrollY;h&&window.scroll(0,h)}},l.prototype.handleSave=function(e,t,r,a,i,n){var s=this,o=this.props,d=o.store,p=o.quickSaveApi,c=o.quickSaveItemApi,h=o.primaryField,u=o.env,f=o.messages,y=o.reload;if(Array.isArray(e)){if(!W(p)){u&&u.alert("CRUD quickSaveApi is required");return}var b=A(d.data,{rows:e,rowsDiff:t,indexes:r,rowsOrigin:i});e.length&&e[0].hasOwnProperty(h||"id")&&(b.ids=e.map(function(I){return I[h||"id"]}).join(",")),a&&(b.unModifiedItems=a),d.saveRemote(p,b,{successMessage:f&&f.saveFailed,errorMessage:f&&f.saveSuccess}).then(function(){y&&s.reloadTarget(z(y,b),b),s.getData(void 0,void 0,!0)}).catch(function(){})}else{if(!W(c)){u&&u.alert("CRUD quickSaveItemApi is required!");return}var v=A(d.data,{item:e,modified:t,origin:i}),C=A(v,e);d.saveRemote(c,C).then(function(){y&&s.reloadTarget(z(y,v),v),s.getData(void 0,void 0,!0)}).catch(function(){n!=null&&n.resetOnFailed&&s.control.reset()})}},l.prototype.handleSaveOrder=function(e,t){var r=this,a=this.props,i=a.store,n=a.saveOrderApi,s=a.orderField,o=a.primaryField,d=a.env,p=a.reload;if(!n){d&&d.alert("CRUD saveOrderApi is required!");return}var c=A(i.data),h,u,f=[],y=o&&t[0]&&t[0].hasOwnProperty(o);if(y||(c.idMap={}),c.insertAfter={},t.forEach(function(P){if(~e.indexOf(P))if(h){var S=y?h[o]:t.indexOf(h);c.insertAfter[S]=c.insertAfter[S]||[],y||(c.idMap[S]=h),c.insertAfter[S].push(y?P[o]:P)}else f.push(P);else h=P,u=u||P}),u&&f.length){var b=y?u[o]:t.indexOf(u);y||(c.idMap[b]=u),c.insertBefore={},c.insertBefore[b]=f.map(function(P){return y?P[o]:P})}else if(f.length){var v=f[0],C=y?v[o]:t.indexOf(v);y||(c.idMap[C]=v),c.insertAfter[C]=f.slice(1).map(function(P){return y?P[o]:P})}if(s){var I=(i.page-1)*i.perPage||0;t=t.map(function(P,S){var R;return me(P,(R={},R[s]=I+S+1,R))})}c.rows=t.concat(),y&&(c.ids=t.map(function(P){return P[o]}).join(",")),y&&s&&(c.order=t.map(function(P){return be(P,[o,s])})),W(n,c)&&i.saveRemote(n,c).then(function(){p&&r.reloadTarget(z(p,c),c),r.getData(void 0,void 0,!0)}).catch(function(){})},l.prototype.handleSelect=function(e,t){var r=this.props,a=r.store,i=r.keepItemSelectionOnPageChange,n=r.primaryField,s=r.multiple,o=r.pickerMode,d=r.onSelect,p=e,c=t;if(X(a.selectedItemsAsArray,p)){if(i&&a.selectedItems.length){var h=a.selectedItems.concat(),u=a.unSelectedItems.concat();e.forEach(function(f){var y=H(h,function(v){return v===f||v[n||"id"]&&v[n||"id"]==f[n||"id"]});~y?h[y]=f:h.push(f);var b=H(u,function(v){return v===f||v[n||"id"]&&v[n||"id"]==f[n||"id"]});~b&&u.splice(b,1)}),t.forEach(function(f){var y=H(u,function(v){return v===f||v[n||"id"]&&v[n||"id"]==f[n||"id"]}),b=H(h,function(v){return v===f||v[n||"id"]&&v[n||"id"]==f[n||"id"]});~y?u[y]=f:u.push(f),!~y&&~b&&h.splice(b,1)}),p=h,c=u}o&&s===!1&&p.length>1&&c.push.apply(c,p.splice(0,p.length-1)),a.setSelectedItems(p),a.setUnSelectedItems(c),d&&d(p)}},l.prototype.handleQuerySearch=function(e,t){var r;t===void 0&&(t=!1);var a=this.props,i=a.store,n=a.syncLocation,s=a.env,o=a.pageField,d=a.perPageField;return i.updateQuery(m(m({},e),(r={},r[o||"page"]=1,r)),n&&s&&s.updateLocation?s.updateLocation:void 0,o,d),this.getData(void 0,void 0,t)},l.prototype.reload=function(e,t){return t?this.receive(t):this.getData(void 0,void 0,!0)},l.prototype.receive=function(e){return this.handleQuerySearch(e,!0)},l.prototype.doAction=function(e,t,r){if(e.actionType&&["stopAutoRefresh","reload","search","startAutoRefresh","loadMore"].includes(e.actionType))return this["handle".concat(Pe(e.actionType))](t)},l.prototype.handleAction=function(e,t,r,a,i){return a===void 0&&(a=!1),["stopAutoRefresh","reload","search","startAutoRefresh","loadMore"].includes(t.actionType)?this.doAction(t,r,a):this.props.onAction(e,t,r,a,i||this.context)},l.prototype.unSelectItem=function(e,t){var r=this.props.store,a=r.selectedItems.concat(),i=r.unSelectedItems.concat(),n=a.indexOf(e);~n&&i.push.apply(i,a.splice(n,1)),r.setSelectedItems(a),r.setUnSelectedItems(i)},l.prototype.clearSelection=function(){var e=this.props.store,t=e.selectedItems.concat(),r=e.unSelectedItems.concat();e.setSelectedItems([]),e.setUnSelectedItems(r.concat(t))},l.prototype.toggleAllColumns=function(e){var t=this.props.store;t.updateColumns(t.columns.map(function(r){return m(m({},r),{toggled:e})}))},l.prototype.toggleToggle=function(e){var t=this.props.store,r=t.columns[e],a=r.toggled;t.updateColumns(t.columns.map(function(i,n){return m(m({},i),{toggled:e===n?!a:i.toggled!==!1})}))},l.prototype.handlePullRefresh=function(){return J(this,void 0,void 0,function(){var e,t,r,a;return V(this,function(i){switch(i.label){case 0:return e=this.props,t=e.dispatchEvent,r=e.data,[4,t("pullRefresh",r)];case 1:return a=i.sent(),a!=null&&a.prevented?[2]:(this.handleLoadMore(),[2])}})})},l.prototype.renderChild=function(e,t,r){r===void 0&&(r={});var a=this.props,i=a.render,n=a.store,s=a.primaryField,o=s===void 0?"id":s,d,p=n.selectedItems,c=n.unSelectedItems,h=n.items;/^filter/.test(e)?d=A(A(n.filterData,n.getData(this.props.data)),{}):d=A(n.mergedData,{items:h.concat(),selectedItems:p.concat(),unSelectedItems:c.concat(),ids:p.map(function(f){return f.hasOwnProperty(o)?f[o]:null}).filter(function(f){return f}).join(",")});var u={activePage:n.page,lastPage:n.lastPage,perPage:n.perPage,total:n.total,onPageChange:this.handleChangePage,cols:n.columns,toggleAllColumns:this.toggleAllColumns,toggleToggle:this.toggleToggle,onQuery:this.handleQuerySearch};return t.type,i(e,t,m(m({data:d},r),u))},l.prototype.renderToolbar=function(e,t){var r=this;return t?(t=[].concat(t),t.map(function(a,i){return r.renderChild("".concat(e,"/").concat(i),a,{key:i+""})})):null},l.prototype.renderFilter=function(e){var t=this;if(!e||Array.isArray(e)&&e.length===0)return null;var r=Array.isArray(e)?e:ee(e)&&e.type!=null?[e]:[];return r.length<1?null:r.map(function(a,i){return t.renderChild("filter/".concat(i),a,m({key:i+"filter",data:t.props.store.filterData,onSubmit:function(n){return t.handleSearch({query:n,resetPage:!0})},onReset:function(n){var s={};Object.keys(n).forEach(function(o){return s[o]=""}),t.handleSearch({query:s,resetQuery:!0,replaceQuery:!0,resetPage:!0})}},t.props.mobileUI?{columnCount:1,mode:"normal",collapsible:!0,title:{type:"container",body:[{type:"icon",icon:"column-filter",className:"icon mr-2"},a.title||""]}}:{}))})},l.prototype.renderSelection=function(){var e=this,t=this.props,r=t.store,a=t.classnames,i=t.labelField,n=t.labelTpl,s=t.primaryField,o=t.translate,d=t.env;return r.selectedItems.length?F.createElement("div",{className:a("Crud-selection")},F.createElement("div",{className:a("Crud-selectionLabel")},o("CRUD.selected",{total:r.selectedItems.length})),r.selectedItems.map(function(p,c){return F.createElement("div",{key:c,className:a("Crud-value")},F.createElement("span",{"data-tooltip":o("delete"),"data-position":"bottom",className:a("Crud-valueIcon"),onClick:e.unSelectItem.bind(e,p,c)},"×"),F.createElement("span",{className:a("Crud-valueLabel")},n?F.createElement(Fe,{html:Se(n,p),filterHtml:d.filterHtml}):te(p,i||"label")||te(p,s||"id")))}),F.createElement("a",{onClick:this.clearSelection.bind(this),className:a("Crud-selectionClear")},o("clear"))):null},l.prototype.transformTable2cards=function(){for(var e,t=this.props,r=t.store,a=t.columns,i=t.card,n=t.mobileMode,s=[],o=n.fieldCount||4,d=[],p="",c=((e=r.columns)!==null&&e!==void 0?e:a)||[],h=0;h<c.length;h++){var u=c[h];if(Ce(u))if(u.type==="operation")d.push.apply(d,Te([],Oe((u==null?void 0:u.buttons)||[]),!1));else if(u.type==="button"&&u.name==="operation")d.push(u);else{if(!u.label&&u.title&&(u.label=u.title),u.type==="static-image"&&!p){p="${".concat(u.name,"}");continue}s.length<o&&(u.type==="static-image"&&u.title&&delete u.title,s.push(u))}}return s.length?{columnsCount:1,type:"cards",card:m(m(m({},i),{body:s,actions:d}),p?{media:{type:"image",url:p,position:"right",className:""},mediaActionPosition:"outside"}:{})}:null},l.prototype.transMobileHeaderToolbar=function(e,t){var r=0,a={},i={},n=null;function s(o,d){Array.isArray(o)?o.forEach(function(p){return s(p,d)}):o&&typeof o=="object"&&(o.type==="button"?(r++,o.label==="新增"&&(a=o,i=d)):o.type==="search-box"&&(n=o),(o.items||o.body)&&s(o.items||o.body,o))}e.forEach(function(o){s(o)}),r===1&&a&&(a.label="",a.icon="plus",a.className||(a.className=""),a.className+=" is-fixed-right-bottom",i&&(i.className||(i.className=""),i.className+=" is-fixed-right-bottom-wrapper")),n&&(r===0||r===1&&a)&&Ie(this.props.filterSchema)&&t()},l.prototype.render=function(){var e=this.props,t=e.columns,r=e.className,a=e.style,i=e.bodyClassName,n=e.filter,s=e.render,o=e.store,d=e.mode,p=d===void 0?"table2":d;e.syncLocation,e.children,e.bulkActions;var c=e.pickerMode,h=e.selectable,u=e.multiple;e.valueField;var f=e.primaryField;e.value,e.hideQuickSaveBtn;var y=e.itemActions,b=e.classnames,v=e.keepItemSelectionOnPageChange,C=e.maxKeepItemSelectionLength,I=e.onEvent;e.onAction;var P=e.popOverContainer,S=e.translate;e.onQuery;var R=e.autoGenerateFilter;e.onSelect;var N=e.autoFillHeight,B=e.showSelection,M=e.headerToolbar,j=e.footerToolbar;e.columnsTogglable;var x=e.headerToolbarClassName,L=e.footerToolbarClassName,E=e.id,_=e.testIdBuilder,k=e.mobileMode,G=e.mobileUI,U=e.pullRefresh,oe=Ae(e,["columns","className","style","bodyClassName","filter","render","store","mode","syncLocation","children","bulkActions","pickerMode","selectable","multiple","valueField","primaryField","value","hideQuickSaveBtn","itemActions","classnames","keepItemSelectionOnPageChange","maxKeepItemSelectionLength","onEvent","onAction","popOverContainer","translate","onQuery","autoGenerateFilter","onSelect","autoFillHeight","showSelection","headerToolbar","footerToolbar","columnsTogglable","headerToolbarClassName","footerToolbarClassName","id","testIdBuilder","mobileMode","mobileUI","pullRefresh"]),w,Z=!1,D=null;if(k&&G&&p.includes("table")){var q=this.transformTable2cards();typeof k=="string"&&k==="cards"?q&&(D=q):typeof k=="object"&&(D=m(m(m({},q),k),{card:m(m({},q==null?void 0:q.card),k.card)})),D&&this.transMobileHeaderToolbar(M,function(){Z=!0}),D&&!(U!=null&&U.disabled)&&(w=m(m({normalText:S("pullRefresh.crud2NormalText"),pullingText:S("pullRefresh.crud2PullingText"),loosingText:S("pullRefresh.crud2LoosingText")},U),{disabled:!1}))}else w=U;var Y=s("body",m(m(m({},oe),{onEvent:Re(I,function(Ne,ne){return!_e.includes(ne)}),type:p,columns:p.startsWith("table")?o.columns||t:void 0,id:E}),D),{key:"body",className:b("Crud2-body",i),ref:this.controlRef,autoGenerateFilter:!n&&R,autoFillHeight:N,checkAll:!1,selectable:!!(h??c),itemActions:y,multiple:u,columnsTogglable:!1,selected:c||v?o.selectedItemsAsArray:void 0,keepItemSelectionOnPageChange:v,maxKeepItemSelectionLength:C,primaryField:f,testIdBuilder:_,items:o.data.items,query:o.query,orderBy:o.query.orderBy,orderDir:o.query.orderDir,popOverContainer:P,onSave:this.handleSave.bind(this),onSaveOrder:this.handleSaveOrder,onSearch:this.handleQuerySearch,onSort:this.handleQuerySearch,onSelect:this.handleSelect,onAction:this.handleAction,data:o.mergedData,loading:o.loading,host:this});return F.createElement("div",m({className:b("Crud2",r,{"is-loading":o.loading,"is-mobile":G,"is-mobile-cards":k==="cards"||(D==null?void 0:D.type)==="cards"}),style:a,"data-id":E,"data-role":"container"},_==null?void 0:_.getTestId()),F.createElement("div",m({className:b("Crud2-filter")},_==null?void 0:_.getChild("filter").getTestId()),this.renderFilter(n)),F.createElement("div",{className:b("Crud2-toolbar","Crud2-header-toolbar",x,{"is-sticky":Z})},this.renderToolbar("headerToolbar",M)),B&&v&&u!==!1?this.renderSelection():null,G&&w&&!w.disabled?F.createElement(Qe,m({},w,{translate:S,onRefresh:this.handlePullRefresh,direction:"up",loading:o.loading,completed:!o.loading&&o.lastPage>0&&o.page>=o.lastPage,completedText:o.total>0?void 0:""}),Y):F.createElement(F.Fragment,null,Y,F.createElement("div",{className:b("Crud2-toolbar","Crud2-footer-toolbar",L)},this.renderToolbar("footerToolbar",j))))},l.propsList=["mode","syncLocation","value","multiple","valueField","pageField","perPageField","hideQuickSaveBtn","autoJumpToTopOnPagerChange","interval","silentPolling","stopAutoRefreshWhen","stopAutoRefreshWhenModalIsOpen","api","headerToolbar","footerToolbar","autoGenerateFilter","syncResponse2Query","keepItemSelectionOnPageChange","source","onChange","onInit","onSaved","onQuery","autoFillHeight","showSelection","headerToolbarClassName","footerToolbarClassName","primaryField","parsePrimitiveQuery"],l.defaultProps={toolbarInline:!0,syncLocation:!0,hideQuickSaveBtn:!1,autoJumpToTopOnPagerChange:!0,silentPolling:!1,autoFillHeight:!1,showSelection:!0,primaryField:"id",parsePrimitiveQuery:!0},T([O,g("design:type",Function),g("design:paramtypes",[]),g("design:returntype",void 0)],l.prototype,"getPaginationPerPage",null),T([O,g("design:type",Function),g("design:paramtypes",[Object]),g("design:returntype",void 0)],l.prototype,"controlRef",null),T([O,g("design:type",Function),g("design:paramtypes",[Number,Number]),g("design:returntype",void 0)],l.prototype,"handleChangePage",null),T([O,g("design:type",Function),g("design:paramtypes",[Array,Array]),g("design:returntype",void 0)],l.prototype,"handleSaveOrder",null),T([O,g("design:type",Function),g("design:paramtypes",[Array,Array]),g("design:returntype",void 0)],l.prototype,"handleSelect",null),T([O,g("design:type",Function),g("design:paramtypes",[Object,Boolean]),g("design:returntype",void 0)],l.prototype,"handleQuerySearch",null),T([O,g("design:type",Function),g("design:paramtypes",[Object,Object,Boolean]),g("design:returntype",void 0)],l.prototype,"doAction",null),T([O,g("design:type",Function),g("design:paramtypes",[Object,Object,Object,Boolean,Object]),g("design:returntype",void 0)],l.prototype,"handleAction",null),T([O,g("design:type",Function),g("design:paramtypes",[Boolean]),g("design:returntype",void 0)],l.prototype,"toggleAllColumns",null),T([O,g("design:type",Function),g("design:paramtypes",[Number]),g("design:returntype",void 0)],l.prototype,"toggleToggle",null),T([O,g("design:type",Function),g("design:paramtypes",[]),g("design:returntype",Promise)],l.prototype,"handlePullRefresh",null),T([O,g("design:type",Function),g("design:paramtypes",[String,Object,Object]),g("design:returntype",void 0)],l.prototype,"renderChild",null),l}(F.Component),je=function(Q){re(l,Q);function l(e,t){var r=Q.call(this,e)||this,a=t;return a.registerComponent(r),r}return l.prototype.componentWillUnmount=function(){Q.prototype.componentWillUnmount.call(this);var e=this.context;e.unRegisterComponent(this)},l.prototype.reload=function(e,t,r){return J(this,void 0,void 0,function(){var a;return V(this,function(i){return a=this.context,e?[2,a.reload(t?"".concat(e,"?").concat(ae(t)):e,r)]:[2,Q.prototype.reload.call(this,e,t)]})})},l.prototype.receive=function(e,t){return J(this,void 0,void 0,function(){var r;return V(this,function(a){return r=this.context,t?[2,r.send(t,e)]:[2,Q.prototype.receive.call(this,e)]})})},l.prototype.reloadTarget=function(e,t){var r=this.context;r.reload(e,t)},l.prototype.closeTarget=function(e){var t=this.context;t.close(e)},l.contextType=ie,l=T([se({type:"crud2",storeType:le.name,isolateScope:!0}),g("design:paramtypes",[Object,Object])],l),l}(ke);export{je as CRUD2Renderer,ke as default};
