import{b as E,d as S,L as w,dM as j,h as g,aY as _,b_ as k,R as c,e4 as O,dI as P,c as i,dJ as V,ae as I}from"./amis-WMe1Knp9.js";import"./react-vendor-DeqkGhWy.js";function M(a){var t=a.render,h=a.data,e=a.items,r=a.item,u=a.name,m=a.index,y=a.itemKeyName,p=a.indexKeyName,v=c.useMemo(function(){var d,l;return I(h,i(i({},_(r)?i({index:m},r):(d={},d[u]=r,d)),(l={},l[y||"item"]=r,l[p||"index"]=m,l)))},[r,h,u,m,y,p]);return t("item/".concat(m),e,{data:v})}var D=function(a){E(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t.prototype.render=function(){var h=this,e=this.props,r=e.data,u=e.name,m=e.className,y=e.style,p=e.render,v=e.items,d=e.itemKeyName,l=e.indexKeyName,K=e.placeholder,f=e.classnames,A=e.translate,L=e.env,x=e.id,R=e.wrapperCustomStyle,C=e.themeCss,o=j(this.props,function(s){return s.source?g(s.source,s.data,"| raw"):void 0}),n=_(o)?Object.keys(o).map(function(s){return{key:s,value:o[s]}}):Array.isArray(o)?o:[],N=k(this.props.maxLength)?g(this.props.maxLength,this.props.data)||0:this.props.maxLength;return Array.isArray(n)&&N>=1&&n.length>N&&(n=n.slice(0,N)),c.createElement("div",{className:f("Each",m,P(i(i({},this.props),{name:"baseControlClassName",id:x,themeCss:C}))),style:O(y,r)},Array.isArray(n)&&n.length&&v?n.map(function(s,b){return c.createElement(M,i({},h.props,{items:v,key:b,index:b,data:r,item:s,name:u,itemKeyName:d,indexKeyName:l}))}):c.createElement("div",{className:f("Each-placeholder")},p("placeholder",A(K))),c.createElement(V,i({},this.props,{config:{wrapperCustomStyle:R,id:x,themeCss:C,classNames:[{key:"baseControlClassName"}]},env:L})))},t.propsList=["name","items","value"],t.defaultProps={className:"",placeholder:"placeholder.noData"},t}(c.Component),T=function(a){E(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t=S([w({type:"each"})],t),t}(D);export{T as EachRenderer,D as default};
