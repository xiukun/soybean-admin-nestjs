import{b as S,e$ as I,c as E,R as u,f as N,an as x,ae as L,aY as Y,_ as $,a as q,dF as g,a9 as A,dG as R,a8 as w,cj as J,d as k,a1 as Q,a2 as O,L as U}from"./amis-WMe1Knp9.js";import"./react-vendor-DeqkGhWy.js";var W=function(f){S(n,f);function n(t){var a=f.call(this,t)||this,e=t.activeKey||0;return a.state={activeKey:e},a}return n.prototype.handleSelect=function(t){var a=this.props,e=a.onSelect,s=a.tabs;if(typeof t=="number"&&t<s.length&&this.setState({activeKey:t}),typeof e=="string"){var o=I(e,"key","props");o&&o(t,this.props)}else typeof e=="function"&&e(t,this.props)},n.prototype.renderToolbarItem=function(t){var a=this.props.render,e=[];return Array.isArray(t)&&t.forEach(function(s,o){return e.push(a("toolbar/".concat(o),E({type:"button",level:"link",size:"sm"},s),{key:o}))}),e},n.prototype.renderToolbar=function(){var t=this.props,a=t.toolbar,e=t.classnames,s=t.classPrefix,o=t.tabs,c=this.state.activeKey,d=null,v=null,y=a?u.createElement("div",{className:e("".concat(s,"toolbar"))},this.renderToolbarItem(a)):null;return typeof c<"u"&&(d=o[c].toolbar,v=d?u.createElement("div",{className:e("".concat(s,"tab-toolbar"))},this.renderToolbarItem(d)):null),y||v?u.createElement("div",{className:e("".concat(s,"Portlet-toolbar"))},y,v):null},n.prototype.renderDesc=function(){var t=this.props,a=t.description;t.render;var e=t.classnames,s=t.classPrefix,o=t.data,c=N(a,o);return c?u.createElement("span",{className:e("".concat(s,"Portlet-header-desc"))},c):null},n.prototype.renderTabs=function(){var t,a=this,e=this.props,s=e.classnames,o=e.classPrefix,c=e.tabsClassName,d=e.contentClassName,v=e.linksClassName,y=e.tabRender,h=e.render,p=e.data,B=e.mode,V=e.tabsMode,P=e.unmountOnExit,j=e.source,C=e.mountOnEnter,D=e.scrollable,M=e.translate,F=e.addBtnText,H=e.divider,z=V||B,K=x(j,p),m=this.props.tabs;if(!m)return null;m=Array.isArray(m)?m:[m];var b=[],G=s("".concat(o,"Portlet-tab"),c,(t={},t["unactive-select"]=m.length<=1,t["no-divider"]=!H,t));return Array.isArray(K)?K.forEach(function(r,i){var _=L(p,Y(r)?E({index:i},r):{item:r,index:i});b.push.apply(b,$([],q(m.map(function(l,T){return g(l,_)?u.createElement(A,E({},l,{title:N(l.title,_),disabled:R(l,_),key:"".concat(i*1e3+T),eventKey:i*1e3+T,mountOnEnter:C,unmountOnExit:typeof l.reload=="boolean"?l.reload:typeof l.unmountOnExit=="boolean"?l.unmountOnExit:P}),h("item/".concat(i,"/").concat(T),l!=null&&l.type?l:l.tab||l.body,{data:_})):null})),!1))}):b=m.map(function(r,i){return g(r,p)?u.createElement(A,E({},r,{title:N(r.title,p),disabled:R(r,p),key:i,eventKey:i,mountOnEnter:C,unmountOnExit:typeof r.reload=="boolean"?r.reload:typeof r.unmountOnExit=="boolean"?r.unmountOnExit:P}),a.renderTab?a.renderTab(r,a.props,i):y?y(r,a.props,i):h("tab/".concat(i),r!=null&&r.type?r:r.tab||r.body)):null}),u.createElement(w,{addBtnText:M(F||"add"),classPrefix:o,classnames:s,mode:z,className:G,contentClassName:d,linksClassName:v,activeKey:this.state.activeKey,onSelect:this.handleSelect,toolbar:this.renderToolbar(),additionBtns:this.renderDesc(),scrollable:D},b)},n.prototype.render=function(){var t,a=this.props,e=a.className,s=a.data,o=a.classnames,c=a.classPrefix,d=a.style,v=a.hideHeader,y=o("".concat(c,"Portlet"),e,(t={},t["no-header"]=v,t)),h=typeof d=="string"?x(d,s)||{}:J(d,function(p){return x(p,s)||p});return u.createElement("div",{className:y,style:h},this.renderTabs())},n.defaultProps={className:"",mode:"line",divider:!0},k([Q,O("design:type",Function),O("design:paramtypes",[Number]),O("design:returntype",void 0)],n.prototype,"handleSelect",null),n}(u.Component),ee=function(f){S(n,f);function n(){return f!==null&&f.apply(this,arguments)||this}return n=k([U({type:"portlet"})],n),n}(W);export{W as Portlet,ee as PortletRenderer};
