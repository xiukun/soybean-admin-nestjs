import{b as P,dM as m,$ as y,af as g,dK as f,b6 as b,ae as U,R as C,S as j,dz as D,d as l,a1 as p,a2 as i,L as N}from"./amis-WMe1Knp9.js";import"./react-vendor-DeqkGhWy.js";var V=function(v){P(n,v);function n(t,e){var a=v.call(this,t)||this;a.state={value:m(t)||""};var r=e;return r.registerComponent(a),a}return n.prototype.componentWillUnmount=function(){var t=this.context;t.unRegisterComponent(this)},n.prototype.handleChange=function(t){return y(this,void 0,void 0,function(){var e,a,r,o;return g(this,function(s){switch(s.label){case 0:return e=this.props,a=e.onChange,r=e.dispatchEvent,this.setState({value:t}),[4,r("change",f(this.props,{value:t}))];case 1:return o=s.sent(),o!=null&&o.prevented?[2]:(a==null||a(t),[2])}})})},n.prototype.handleCancel=function(){var t=this.props.name,e=this.props.onQuery,a=m(this.props);if(a!==""){var r={};b(r,t,""),e==null||e(r)}},n.prototype.handleSearch=function(t){return y(this,void 0,void 0,function(){var e,a,r,o,s,d;return g(this,function(c){switch(c.label){case 0:return e=this.props,a=e.name,r=e.onQuery,o=e.dispatchEvent,s={},b(s,a,t),[4,o("search",U(this.props.data,s))];case 1:return d=c.sent(),d!=null&&d.prevented?[2]:(r==null||r(s),[2])}})})},n.prototype.dispatchEvent=function(t){var e=this.props.dispatchEvent;e(t,f(this.props,{value:this.state.value}))},n.prototype.doAction=function(t,e,a,r){var o=t==null?void 0:t.actionType;o==="clear"&&this.setState({value:""})},n.prototype.setData=function(t){typeof t=="string"&&this.handleChange(t)},n.prototype.render=function(){var t=this,e=this.props;e.data;var a=e.name,r=e.disabled,o=e.onQuery,s=e.mini,d=e.enhance,c=e.clearable,S=e.searchImediately,E=e.clearAndSubmit,_=e.placeholder,I=e.onChange,x=e.className,B=e.style,A=e.mobileUI,Q=e.loading,R=e.loadingConfig,h=e.onEvent,w=e.testIdBuilder,u=this.state.value,F=!o&&!(h!=null&&h.search)||r;return C.createElement(j,{className:x,style:B,name:a,disabled:F,loading:Q,loadingConfig:R,defaultActive:!!u,defaultValue:I?void 0:u,value:u,mini:s,enhance:d,clearable:c,searchImediately:S,clearAndSubmit:E,onSearch:this.handleSearch,onCancel:this.handleCancel,placeholder:_,onChange:this.handleChange,onFocus:function(){return t.dispatchEvent("focus")},onBlur:function(){return t.dispatchEvent("blur")},mobileUI:A,testIdBuilder:w})},n.defaultProps={name:"keywords",mini:!1,enhance:!1,clearable:!1,searchImediately:!1,clearAndSubmit:!1},n.contextType=D,n.propsList=["mini","searchImediately"],l([p,i("design:type",Function),i("design:paramtypes",[String]),i("design:returntype",Promise)],n.prototype,"handleChange",null),l([p,i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],n.prototype,"handleCancel",null),l([p,i("design:type",Function),i("design:paramtypes",[String]),i("design:returntype",Promise)],n.prototype,"handleSearch",null),l([p,i("design:type",Function),i("design:paramtypes",[String]),i("design:returntype",void 0)],n.prototype,"dispatchEvent",null),n=l([N({type:"search-box"}),i("design:paramtypes",[Object,Object])],n),n}(C.Component);export{V as SearchBoxRenderer};
