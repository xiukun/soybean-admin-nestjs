# ä»£ç ç”Ÿæˆå™¨ä½¿ç”¨æŒ‡å—

## ğŸ¯ æ¦‚è¿°

ä½ä»£ç å¹³å°ä»£ç ç”Ÿæˆå™¨æ˜¯ä¸€ä¸ªå¼ºå¤§çš„å·¥å…·ï¼Œå¯ä»¥ä»å®ä½“å®šä¹‰è‡ªåŠ¨ç”Ÿæˆå®Œæ•´çš„ä¸šåŠ¡ä»£ç ï¼ŒåŒ…æ‹¬ï¼š

- **åç«¯ä»£ç **ï¼šNestJS æ§åˆ¶å™¨ã€æœåŠ¡ã€æ¨¡å—ã€DTO
- **æ•°æ®åº“æ¨¡å¼**ï¼šPrisma Schema æ›´æ–°
- **å‰ç«¯é¡µé¢**ï¼šAmis é¡µé¢é…ç½®
- **APIæ–‡æ¡£**ï¼šSwagger æ–‡æ¡£
- **ç‰ˆæœ¬æ§åˆ¶**ï¼šè‡ªåŠ¨ Git æäº¤å’Œåˆ†æ”¯ç®¡ç†

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒå‡†å¤‡

ç¡®ä¿å·²å®‰è£…ä»¥ä¸‹ä¾èµ–ï¼š
- Node.js 18+
- PostgreSQL 14+
- Gitï¼ˆç”¨äºç‰ˆæœ¬æ§åˆ¶é›†æˆï¼‰

### 2. å¯åŠ¨æœåŠ¡

```bash
# å¯åŠ¨åç«¯æœåŠ¡
cd lowcode-platform-backend
npm run start:dev

# å¯åŠ¨å‰ç«¯æœåŠ¡
cd ../frontend
npm run dev
```

### 3. è®¿é—®ä»£ç ç”Ÿæˆå™¨

æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼š`http://localhost:3200`

åœ¨å·¦ä¾§èœå•ä¸­æ‰¾åˆ° **ä½ä»£ç å¹³å°** â†’ **ä»£ç ç”Ÿæˆå™¨**

## ğŸ“‹ åŠŸèƒ½ç‰¹æ€§

### ğŸ”§ ä»£ç ç”ŸæˆåŠŸèƒ½

1. **å®ä½“é€‰æ‹©**
   - æ”¯æŒå¤šé€‰å®ä½“
   - å®æ—¶é¢„è§ˆé€‰ä¸­çš„å®ä½“ä¿¡æ¯
   - æ™ºèƒ½ä¾èµ–åˆ†æ

2. **ç›®æ ‡é¡¹ç›®é…ç½®**
   - æ”¯æŒå¤šç§é¡¹ç›®ç±»å‹ï¼ˆNestJSã€Reactã€Vueã€Angularï¼‰
   - è‡ªåŠ¨è·¯å¾„é…ç½®
   - é¡¹ç›®éªŒè¯åŠŸèƒ½

3. **ç”Ÿæˆé€‰é¡¹**
   - è¦†ç›–ç°æœ‰æ–‡ä»¶
   - è‡ªåŠ¨åˆ›å»ºç›®å½•
   - ä»£ç æ ¼å¼åŒ–
   - é¢„è§ˆæ¨¡å¼ï¼ˆä¸å®é™…ç”Ÿæˆæ–‡ä»¶ï¼‰

4. **Git é›†æˆ**
   - è‡ªåŠ¨æäº¤ç”Ÿæˆçš„ä»£ç 
   - åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
   - æ¨é€åˆ°è¿œç¨‹ä»“åº“
   - è‡ªå®šä¹‰æäº¤ä¿¡æ¯

### ğŸ›ï¸ ç›®æ ‡é¡¹ç›®ç®¡ç†

1. **é¡¹ç›®é…ç½®**
   - é¡¹ç›®ç±»å‹å’Œæ¡†æ¶è®¾ç½®
   - è¾“å‡ºè·¯å¾„é…ç½®
   - æ¨¡æ¿é€‰æ‹©

2. **é¡¹ç›®éªŒè¯**
   - è·¯å¾„æœ‰æ•ˆæ€§æ£€æŸ¥
   - ä¾èµ–é¡¹éªŒè¯
   - é…ç½®å®Œæ•´æ€§æ£€æŸ¥

3. **ç»Ÿè®¡ä¿¡æ¯**
   - é¡¹ç›®åŸºæœ¬ä¿¡æ¯
   - æ”¯æŒçš„åŠŸèƒ½ç‰¹æ€§
   - ç”Ÿæˆå†å²ç»Ÿè®¡

## ğŸ› ï¸ ä½¿ç”¨æ­¥éª¤

### æ­¥éª¤1ï¼šåˆ›å»ºå®ä½“

1. è¿›å…¥ **ä½ä»£ç å¹³å°** â†’ **å®ä½“ç®¡ç†**
2. ç‚¹å‡» **æ–°å¢å®ä½“** åˆ›å»ºä¸šåŠ¡å®ä½“
3. æ·»åŠ å­—æ®µã€è®¾ç½®ç±»å‹å’Œçº¦æŸ
4. é…ç½®å®ä½“å…³ç³»ï¼ˆå¦‚éœ€è¦ï¼‰

### æ­¥éª¤2ï¼šé…ç½®ç›®æ ‡é¡¹ç›®

1. è¿›å…¥ **ä½ä»£ç å¹³å°** â†’ **ç›®æ ‡é¡¹ç›®ç®¡ç†**
2. æ£€æŸ¥æˆ–æ·»åŠ ç›®æ ‡é¡¹ç›®é…ç½®
3. éªŒè¯é¡¹ç›®é…ç½®çš„æœ‰æ•ˆæ€§

### æ­¥éª¤3ï¼šç”Ÿæˆä»£ç 

1. è¿›å…¥ **ä½ä»£ç å¹³å°** â†’ **ä»£ç ç”Ÿæˆå™¨**
2. é€‰æ‹©è¦ç”Ÿæˆä»£ç çš„å®ä½“
3. é€‰æ‹©ç›®æ ‡é¡¹ç›®
4. é…ç½®ç”Ÿæˆé€‰é¡¹
5. å¯é€‰ï¼šå¯ç”¨ Git é›†æˆ
6. ç‚¹å‡» **ç”Ÿæˆä»£ç **

### æ­¥éª¤4ï¼šéªŒè¯ç»“æœ

1. æ£€æŸ¥ç”Ÿæˆçš„æ–‡ä»¶
2. è¿è¡Œä»£ç éªŒè¯
3. æµ‹è¯• API åŠŸèƒ½
4. æŸ¥çœ‹ Git æäº¤è®°å½•

## ğŸ“ ç”Ÿæˆçš„æ–‡ä»¶ç»“æ„

ä»¥ `TestUser` å®ä½“ä¸ºä¾‹ï¼Œç”Ÿæˆçš„æ–‡ä»¶ç»“æ„å¦‚ä¸‹ï¼š

```
amis-lowcode-backend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ base/
â”‚   â”‚   â”œâ”€â”€ controllers/
â”‚   â”‚   â”‚   â””â”€â”€ test-user.base.controller.ts    # åŸºç¡€æ§åˆ¶å™¨
â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”‚   â””â”€â”€ test-user.base.service.ts       # åŸºç¡€æœåŠ¡
â”‚   â”‚   â””â”€â”€ dto/
â”‚   â”‚       â””â”€â”€ test-user.dto.ts                # æ•°æ®ä¼ è¾“å¯¹è±¡
â”‚   â”œâ”€â”€ biz/
â”‚   â”‚   â”œâ”€â”€ controllers/
â”‚   â”‚   â”‚   â””â”€â”€ test-user.controller.ts         # ä¸šåŠ¡æ§åˆ¶å™¨
â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”‚   â””â”€â”€ test-user.service.ts            # ä¸šåŠ¡æœåŠ¡
â”‚   â”‚   â””â”€â”€ modules/
â”‚   â”‚       â””â”€â”€ test-user.module.ts             # æ¨¡å—å®šä¹‰
â”‚   â””â”€â”€ config/
â”‚       â””â”€â”€ pages/
â”‚           â””â”€â”€ test-user-page.json             # Amis é¡µé¢é…ç½®
â””â”€â”€ prisma/
    â””â”€â”€ schema.prisma                           # æ•°æ®åº“æ¨¡å¼ï¼ˆæ›´æ–°ï¼‰
```

## ğŸ”§ é«˜çº§é…ç½®

### è‡ªå®šä¹‰æ¨¡æ¿

1. æ¨¡æ¿ä½ç½®ï¼š`lowcode-platform-backend/src/resources/templates/`
2. æ”¯æŒçš„æ¨¡æ¿ç±»å‹ï¼š
   - `entity-base-controller.hbs`
   - `entity-base-service.hbs`
   - `entity-controller.hbs`
   - `entity-module.hbs`
   - `amis-page.hbs`

### Git é›†æˆé…ç½®

```javascript
// ä»£ç ç”Ÿæˆæ—¶çš„ Git é…ç½®ç¤ºä¾‹
{
  "git": {
    "enabled": true,
    "autoCommit": true,
    "createBranch": true,
    "branchName": "feature/generated-code-user-management",
    "push": false,
    "author": {
      "name": "Code Generator",
      "email": "generator@example.com"
    }
  }
}
```

### ç›®æ ‡é¡¹ç›®é…ç½®

```javascript
// ç›®æ ‡é¡¹ç›®é…ç½®ç¤ºä¾‹
{
  "name": "my-custom-project",
  "displayName": "æˆ‘çš„è‡ªå®šä¹‰é¡¹ç›®",
  "type": "nestjs",
  "framework": "NestJS",
  "language": "typescript",
  "path": "/path/to/project",
  "config": {
    "outputPaths": {
      "controllers": "src/controllers",
      "services": "src/services",
      "modules": "src/modules",
      "dto": "src/dto",
      "schemas": "prisma/schema.prisma",
      "pages": "src/pages"
    }
  }
}
```

## ğŸ› æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **ç”Ÿæˆå¤±è´¥ï¼šè·¯å¾„ä¸å­˜åœ¨**
   - æ£€æŸ¥ç›®æ ‡é¡¹ç›®è·¯å¾„æ˜¯å¦æ­£ç¡®
   - ç¡®ä¿æœ‰å†™å…¥æƒé™

2. **Git æäº¤å¤±è´¥**
   - æ£€æŸ¥ Git é…ç½®
   - ç¡®ä¿å·¥ä½œç›®å½•æ˜¯ Git ä»“åº“

3. **æ¨¡æ¿ç¼–è¯‘é”™è¯¯**
   - æ£€æŸ¥æ¨¡æ¿è¯­æ³•
   - éªŒè¯æ•°æ®æ ¼å¼

### æ—¥å¿—æŸ¥çœ‹

```bash
# æŸ¥çœ‹åç«¯æ—¥å¿—
cd lowcode-platform-backend
npm run start:dev

# æŸ¥çœ‹ç”Ÿæˆå™¨çŠ¶æ€
curl http://localhost:3100/api/v1/code-generation/status
```

## ğŸ”„ æ›´æ–°å’Œç»´æŠ¤

### æ›´æ–°æ¨¡æ¿

1. ä¿®æ”¹ `src/resources/templates/` ä¸­çš„æ¨¡æ¿æ–‡ä»¶
2. é‡å¯æœåŠ¡ä»¥åŠ è½½æ–°æ¨¡æ¿
3. æ¸…é™¤æ¨¡æ¿ç¼“å­˜ï¼š`POST /api/v1/code-generation/clear-cache`

### æ•°æ®åº“è¿ç§»

```bash
# ç”Ÿæˆ Prisma è¿ç§»
npx prisma migrate dev --name add-new-feature

# åº”ç”¨è¿ç§»
npx prisma migrate deploy
```

## ğŸ“š API å‚è€ƒ

### ä»£ç ç”Ÿæˆ API

- `POST /api/v1/code-generation/generate` - ç”Ÿæˆä»£ç 
- `POST /api/v1/code-generation/preview` - é¢„è§ˆä»£ç 
- `GET /api/v1/code-generation/status` - è·å–çŠ¶æ€
- `POST /api/v1/code-generation/clear-cache` - æ¸…é™¤ç¼“å­˜

### ç›®æ ‡é¡¹ç›® API

- `GET /api/v1/target-projects` - è·å–é¡¹ç›®åˆ—è¡¨
- `POST /api/v1/target-projects` - åˆ›å»ºé¡¹ç›®
- `GET /api/v1/target-projects/:id/validate` - éªŒè¯é¡¹ç›®
- `GET /api/v1/target-projects/:id/statistics` - è·å–ç»Ÿè®¡

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ä»£ç å’Œå»ºè®®ï¼è¯·æŸ¥çœ‹é¡¹ç›®çš„è´¡çŒ®æŒ‡å—äº†è§£æ›´å¤šä¿¡æ¯ã€‚

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ã€‚è¯¦æƒ…è¯·æŸ¥çœ‹ LICENSE æ–‡ä»¶ã€‚
